<div ng-controller="TrustsCtrl">
	<section>
		<div class="page-header">
			<h4>Trusts
				<button class="btn btn-info" data-toggle="collapse" data-target="#trusts_form">Add Trust</button>
			</h4>
		</div>
		<form id="trusts_form" name="trusts_form" class="form-inline collapse" role="form" data-toggle="validator">
			<div>
				<div class="form-group">
					<input type="text" class="form-control" name="trust_name" ng-model="elem.trust_name" placeholder="Trust Name" required/>
					<select class="form-control" name="trust_type" ng-model="elem.trust_type" required>
						<option value="">-------</option>
						<option value="trust1">Discretionary / Family</option>
						<option value="trust2">SMSF</option>
						<option value="trust3">Unit</option>
					</select>
				</div>
			</div>
			<div class="panel-heading">
				<input type="button" class="btn btn-success add-accordion" ng-click="addAccordion()" value="Add"/>
				<input type="button" class="btn btn-danger cancel-button" value="Cancel"/>
			</div>
		</form> 
	</section>
	<section>
		<div class="panel-group" id="accordion">
			<div class="panel panel-default" ng-repeat="d in data">
				<div class="panel-heading">
					<h4 class="panel-title">
						<a class="accordion-title" data-toggle="collapse" data-parent="#accordion" data-target="#accordion_{{d.id}}">{{d.name}} {{d.type}}</a>
						<span ng-click="data.splice($index, 1);" class="close">&times;</span>
					</h4>
				</div>
				<div id="accordion_{{d.id}}" class="panel-collapse collapse" ng-class="{'in':$index == data.length - 1}">
					<div class="panel-body">
						Trustees 
						<input type="button" class="btn btn-info" ng-click="addTrustee($index);" value="Add Trustee"/>
					</div>
					<div class="panel-item">
						<div class="alert alert-success fade in" ng-repeat="t in d.trustees" aria-label="close" roll="alert">
							Trustee
							<select ng-model="t.trustee">
								<option value="1">XXXX</option>
								<option value="2">YYYY</option>
								<option value="3">ZXZZZ</option>
							</select>
							<span ng-click="d.trustees.splice($index, 1);" class="close">&times;</span>
						</div>
					</div>
					<div class="panel-item">
						Corporate / Government Identifiers 
						<input type="button" class="btn btn-info" ng-click="addCorporate($index);" value="Add Identifier"/>
					</div>
					<div class="panel-item">
						<div class="alert alert-success fade in" ng-repeat="corporate in d.corporates" aria-label="close" roll="alert" id="add_phone_number">
							Type : 
							<select ng-model="corporate.type">
								<option value="1">ABN</option>
								<option value="2">TFN</option>
							</select>&nbsp;&nbsp;&nbsp;&nbsp;
							Identifier : <input type="text" ng-model="corporate.identifier"/>
							<span ng-click="d.corporates.splice($index, 1);" class="close">&times;</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>